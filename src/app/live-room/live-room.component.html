<bd-loading class="live-room-loading" *ngIf="!liveInfo"></bd-loading>

<beginner-guide [showAdminGuide]="true" *ngIf="liveInfo.isEditor(userInfo.uid)"></beginner-guide>
<beginner-guide [showUserGuide]="true" *ngIf="liveInfo.isAudience(userInfo.uid)"></beginner-guide>

<div class="live-room-container" *ngIf="liveInfo" [ngClass]="{'blured': showInfo}">
  <top-bar
    class="top-bar"
    [onlineCount]="liveInfo.totalUsers"
    [userInfo]="userInfo"
    [liveInfo]="liveInfo"
    [(isCommentOpened)]="isCommentOpened"
    [isTimelineOnOldest]="timeline.isOnOldest"
    [isTimelineOnLatest]="timeline.isOnLatest"
  ></top-bar>

  <comments
    class="comments"
    [ngClass]="{'hidden': !isCommentOpened}"
    [streamId]="id"
    [userInfo]="userInfo"
  ></comments>

  <timeline class="timeline" [liveInfo]="liveInfo" [userInfo]="userInfo" #timeline></timeline>

  <div class="praised-animations" praisedAnimation>
    <praised-animation *ngFor="let userAnim of liveInfo.praisedAnimations" [userAnim]="userAnim"></praised-animation>
  </div>

  <hamburger-menu class="hamburger-menu" [liveId]="liveInfo.id" [userInfo]="userInfo" *ngIf="checkGuideAlreadyShown()"></hamburger-menu>

  <user-info-card></user-info-card>

  <audience-tool-bar
    *ngIf="liveInfo.isAudience(userInfo.uid)"
    class="audience-tool-bar"
    [liveId]="id"
    [liveInfo]="liveInfo"
    [userInfo]="userInfo"
  ></audience-tool-bar>

  <editor-tool-bar
    *ngIf="liveInfo.isEditor(userInfo.uid)"
    class="editor-tool-bar"
    [liveId]="id"
    [liveInfo]="liveInfo"
  ></editor-tool-bar>

</div>

