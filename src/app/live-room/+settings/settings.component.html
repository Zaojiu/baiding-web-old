<div class="settings-container" *ngIf="liveInfo">
  <live-room-top-bar [liveId]="liveId"></live-room-top-bar>

  <div class="live-info-container block" (click)="gotoRoomInfo()">
    <div class="title">
      <i class="bi bi-tv"></i>
      话题间信息
    </div>
    <div class="content">
      <div class="content-wrapper">
        <div class="live-title">{{liveInfo.subject}}</div>
        <span class="live-status" *ngIf="liveInfo.status === liveStatusEnums.Created">未开始</span>
        <span class="live-status" *ngIf="liveInfo.status === liveStatusEnums.Started">
          正在直播 {{liveInfo.startedAt | timeTo:timeNow | durationFormater:1}}:{{liveInfo.startedAt | timeTo:timeNow | durationFormater:2}}
        </span>
        <span class="live-status" *ngIf="liveInfo.status === liveStatusEnums.Ended">已结束</span>
      </div>

      <i class="bi bi-right-arrow"></i>
    </div>
  </div>

  <div class="vips-container block" *ngIf="isAdmin">
    <div class="title">
      <i class="bi bi-envelop"></i>
      嘉宾列表
    </div>
    <div class="content">
      <div class="avatar-container">
        <div class="accepted-wrapper">
          <img class="avatar" [src]="liveInfo.admin.avatar" alt="嘉宾头像">
          <div class="tick" ><i class="bi bi-tick"></i></div>
          <p class="nick">{{liveInfo.admin.nick}}</p>
        </div>
      </div>
      <div class="avatar-container" *ngFor="let vip of invitations">
        <div class="accepted-wrapper" *ngIf="vip.userInfo">
          <img class="avatar" [src]="vip.userInfo.avatar" alt="嘉宾头像">
          <div class="tick"><i class="bi bi-tick"></i></div>
          <p class="nick">{{vip.userInfo.nick}}</p>
        </div>

        <div class="invited-wrapper" *ngIf="!vip.userInfo">
          <div class="invite-people-bg">
            <i class="bi bi-invite-people"></i>
          </div>
          <p class="nick">{{vip.name}}</p>
        </div>
      </div>

      <div class="invite" (click)="goInvitation()" *ngIf="isAdmin"></div>
    </div>
  </div>

  <div class="vips-container block" *ngIf="!isAdmin">
    <div class="title">
      <i class="bi bi-envelop"></i>
      嘉宾列表
    </div>
    <div class="content">
      <div class="avatar-container">
        <div class="accepted-wrapper">
          <img class="avatar" [src]="liveInfo.admin.avatar" alt="嘉宾头像">
          <div class="tick" ><i class="bi bi-tick"></i></div>
          <p class="nick">{{liveInfo.admin.nick}}</p>
        </div>
      </div>
      <div class="avatar-container" *ngFor="let editor of audienceListInvitations">
        <div class="accepted-wrapper" *ngIf="editor.userInfo">
          <img class="avatar" [src]="editor.userInfo.avatar" alt="嘉宾头像">
          <div class="tick" ><i class="bi bi-tick"></i></div>
          <p class="nick">{{editor.userInfo.nick}}</p>
        </div>
      </div>

    </div>
  </div>

  <div class="auto-play-switch bar">
    <span class="title">语音自动播放</span>
    <switch-btn class="switch-btn" [isOpened]="audioAutoPlay" [btnText]="''"
                (toggling)="audioAutoPlay = $event"></switch-btn>
  </div>

  <a class="end-btn" *ngIf="liveInfo.status === liveStatusEnums.Started && isAdmin" (click)="closeLive()">结束直播</a>
  <a class="end-btn" *ngIf="(liveInfo.status !== liveStatusEnums.Started && isAdmin) || !isAdmin"
     (click)="closeWindow()">退出房间</a>
</div>
